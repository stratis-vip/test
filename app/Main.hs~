module Main where

import System.Process (readProcess)
import Control.Exception (catch, SomeException)


main :: IO ()
main = do
  output <- catch
    (readProcess "git" ["status"] "")
    (\e -> do
        putStrLn "aei gamisou"
        putStrLn $ "Error: " ++ show (e::SomeException)
        return ""
    )

  let lns = checkGit output
  putStrLn $ show (length lns)
  mapM_ print lns

checkGit :: String -> [String]
checkGit x = lines x
